<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>3. Managing Packages · Pkg.jl</title><meta name="title" content="3. Managing Packages · Pkg.jl"/><meta property="og:title" content="3. Managing Packages · Pkg.jl"/><meta property="twitter:title" content="3. Managing Packages · Pkg.jl"/><meta name="description" content="Documentation for Pkg.jl."/><meta property="og:description" content="Documentation for Pkg.jl."/><meta property="twitter:description" content="Documentation for Pkg.jl."/><meta property="og:url" content="https://julialang.github.io/Pkg.jl/v1/managing-packages/"/><meta property="twitter:url" content="https://julialang.github.io/Pkg.jl/v1/managing-packages/"/><link rel="canonical" href="https://julialang.github.io/Pkg.jl/v1/managing-packages/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/custom.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="Pkg.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">Pkg.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../"><strong>1.</strong> Introduction</a></li><li><a class="tocitem" href="../getting-started/"><strong>2.</strong> Getting Started</a></li><li class="is-active"><a class="tocitem" href><strong>3.</strong> Managing Packages</a><ul class="internal"><li><a class="tocitem" href="#Adding-packages"><span>Adding packages</span></a></li><li><a class="tocitem" href="#Removing-packages"><span>Removing packages</span></a></li><li><a class="tocitem" href="#updating"><span>Updating packages</span></a></li><li><a class="tocitem" href="#Pinning-a-package"><span>Pinning a package</span></a></li><li><a class="tocitem" href="#Testing-packages"><span>Testing packages</span></a></li><li><a class="tocitem" href="#Building-packages"><span>Building packages</span></a></li><li><a class="tocitem" href="#conflicts"><span>Interpreting and resolving version conflicts</span></a></li><li><a class="tocitem" href="#Garbage-collecting-old,-unused-packages"><span>Garbage collecting old, unused packages</span></a></li><li><a class="tocitem" href="#Offline-Mode"><span>Offline Mode</span></a></li><li><a class="tocitem" href="#Pkg-client/server"><span>Pkg client/server</span></a></li></ul></li><li><a class="tocitem" href="../environments/"><strong>4.</strong> Working with Environments</a></li><li><a class="tocitem" href="../creating-packages/"><strong>5.</strong> Creating Packages</a></li><li><a class="tocitem" href="../compatibility/"><strong>6.</strong> Compatibility</a></li><li><a class="tocitem" href="../registries/"><strong>7.</strong> Registries</a></li><li><a class="tocitem" href="../artifacts/"><strong>8.</strong> Artifacts</a></li><li><a class="tocitem" href="../glossary/"><strong>9.</strong> Glossary</a></li><li><a class="tocitem" href="../toml-files/"><strong>10.</strong> <code>Project.toml</code> and <code>Manifest.toml</code></a></li><li><a class="tocitem" href="../repl/"><strong>11.</strong> REPL Mode Reference</a></li><li><a class="tocitem" href="../api/"><strong>12.</strong> API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href><strong>3.</strong> Managing Packages</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href><strong>3.</strong> Managing Packages</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaLang/Pkg.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaLang/Pkg.jl/blob/master/docs/src/managing-packages.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Managing-Packages"><a class="docs-heading-anchor" href="#Managing-Packages"><strong>3.</strong> Managing Packages</a><a id="Managing-Packages-1"></a><a class="docs-heading-anchor-permalink" href="#Managing-Packages" title="Permalink"></a></h1><h2 id="Adding-packages"><a class="docs-heading-anchor" href="#Adding-packages">Adding packages</a><a id="Adding-packages-1"></a><a class="docs-heading-anchor-permalink" href="#Adding-packages" title="Permalink"></a></h2><p>There are two ways of adding packages, either using the <code>add</code> command or the <code>dev</code> command. The most frequently used is <code>add</code> and its usage is described first.</p><h3 id="Adding-registered-packages"><a class="docs-heading-anchor" href="#Adding-registered-packages">Adding registered packages</a><a id="Adding-registered-packages-1"></a><a class="docs-heading-anchor-permalink" href="#Adding-registered-packages" title="Permalink"></a></h3><p>In the Pkg REPL, packages can be added with the <code>add</code> command followed by the name of the package, for example:</p><pre><code class="language-julia-repl hljs">(@v1.8) pkg&gt; add JSON
  Installing known registries into `~/`
   Resolving package versions...
   Installed Parsers ─ v2.4.0
   Installed JSON ──── v0.21.3
    Updating `~/.julia/environments/v1.8/Project.toml`
  [682c06a0] + JSON v0.21.3
    Updating `~/environments/v1.9/Manifest.toml`
  [682c06a0] + JSON v0.21.3
  [69de0a69] + Parsers v2.4.0
  [ade2ca70] + Dates
  [a63ad114] + Mmap
  [de0858da] + Printf
  [4ec0a83e] + Unicode
Precompiling environment...
  2 dependencies successfully precompiled in 2 seconds</code></pre><p>Here we added the package <code>JSON</code> to the current environment (which is the default <code>@v1.8</code> environment). In this example, we are using a fresh Julia installation, and this is our first time adding a package using Pkg. By default, Pkg installs the General registry and uses this registry to look up packages requested for inclusion in the current environment. The status update shows a short form of the package UUID to the left, then the package name, and the version. Finally, the newly installed packages are &quot;precompiled&quot;.</p><p>It is possible to add multiple packages in one command as <code>pkg&gt; add A B C</code>.</p><p>The status output contains the packages you have added yourself, in this case, <code>JSON</code>:</p><pre><code class="language-julia-repl hljs">(@v1.11) pkg&gt; st
    Status `~/.julia/environments/v1.8/Project.toml`
  [682c06a0] JSON v0.21.3</code></pre><p>The manifest status shows all the packages in the environment, including recursive dependencies:</p><pre><code class="language-julia-repl hljs">(@v1.11) pkg&gt; st -m
Status `~/environments/v1.9/Manifest.toml`
  [682c06a0] JSON v0.21.3
  [69de0a69] Parsers v2.4.0
  [ade2ca70] Dates
  [a63ad114] Mmap
  [de0858da] Printf
  [4ec0a83e] Unicode</code></pre><p>Since standard libraries (e.g. <code>Dates</code>) are shipped with Julia, they do not have a version.</p><p>To specify that you want a particular version (or set of versions) of a package, use the <code>compat</code> command. For example, to require any patch release of the v0.21 series of JSON after v0.21.4, call <code>compat JSON 0.21.4</code>:</p><pre><code class="language-julia-repl hljs">(@1.11) pkg&gt; compat JSON 0.21.4
      Compat entry set:
  JSON = &quot;0.21.4&quot;
     Resolve checking for compliance with the new compat rules...
       Error empty intersection between JSON@0.21.3 and project compatibility 0.21.4 - 0.21
  Suggestion Call `update` to attempt to meet the compatibility requirements.

(@1.11) pkg&gt; update
    Updating registry at `~/.julia/registries/General.toml`
    Updating `~/.julia/environments/1.11/Project.toml`
  [682c06a0] ↑ JSON v0.21.3 ⇒ v0.21.4
    Updating `~/.julia/environments/1.11/Manifest.toml`
  [682c06a0] ↑ JSON v0.21.3 ⇒ v0.21.4</code></pre><p>See the section on <a href="../compatibility/#Compatibility">Compatibility</a> for more on using the compat system.</p><p>After a package is added to the project, it can be loaded in Julia:</p><pre><code class="language-julia-repl hljs">julia&gt; using JSON

julia&gt; JSON.json(Dict(&quot;foo&quot; =&gt; [1, &quot;bar&quot;])) |&gt; print
{&quot;foo&quot;:[1,&quot;bar&quot;]}</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Only packages that have been added with <code>add</code> can be loaded (which are packages that are shown when using <code>st</code> in the Pkg REPL). Packages that are pulled in only as dependencies (for example the <code>Parsers</code> package above) can not be loaded.</p></div></div><p>A specific version of a package can be installed by appending a version after a <code>@</code> symbol to the package name:</p><pre><code class="language-julia-repl hljs">(@v1.8) pkg&gt; add JSON@0.21.1
   Resolving package versions...
    Updating `~/.julia/environments/v1.8/Project.toml`
⌃ [682c06a0] + JSON v0.21.1
    Updating `~/environments/v1.9/Manifest.toml`
⌃ [682c06a0] + JSON v0.21.1
⌅ [69de0a69] + Parsers v1.1.2
  [ade2ca70] + Dates
  [a63ad114] + Mmap
  [de0858da] + Printf
  [4ec0a83e] + Unicode
        Info Packages marked with ⌃ and ⌅ have new versions available, but those with ⌅ are restricted by compatibility constraints from upgrading. To see why use `status --outdated -m`</code></pre><p>As seen above, Pkg gives some information when a package is not installed at its latest version.</p><p>If not all three numbers are given for the version, for example, <code>0.21</code>, then the latest registered version of <code>0.21.x</code> would be installed.</p><p>If a branch (or a certain commit) of <code>Example</code> has a hotfix that is not yet included in a registered version, we can explicitly track that branch (or commit) by appending <code>#branchname</code> (or <code>#commitSHA1</code>) to the package name:</p><pre><code class="language-julia-repl hljs">(@v1.8) pkg&gt; add Example#master
     Cloning git-repo `https://github.com/JuliaLang/Example.jl.git`
   Resolving package versions...
    Updating `~/.julia/environments/v1.8/Project.toml`
  [7876af07] + Example v0.5.4 `https://github.com/JuliaLang/Example.jl.git#master`
    Updating `~/environments/v1.9/Manifest.toml`
  [7876af07] + Example v0.5.4 `https://github.com/JuliaLang/Example.jl.git#master`</code></pre><p>The status output now shows that we are tracking the <code>master</code> branch of <code>Example</code>. When updating packages, updates are pulled from that branch.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>If we would specify a commit id instead of a branch name, e.g. <code>add Example#025cf7e</code>, then we would effectively &quot;pin&quot; the package to that commit. This is because the commit id always points to the same thing unlike a branch, which may be updated.</p></div></div><p>To go back to tracking the registry version of <code>Example</code>, the command <code>free</code> is used:</p><pre><code class="language-julia-repl hljs">(@v1.8) pkg&gt; free Example
   Resolving package versions...
   Installed Example ─ v0.5.3
    Updating `~/.julia/environments/v1.8/Project.toml`
  [7876af07] ~ Example v0.5.4 `https://github.com/JuliaLang/Example.jl.git#master` ⇒ v0.5.3
    Updating `~/environments/v1.9/Manifest.toml`
  [7876af07] ~ Example v0.5.4 `https://github.com/JuliaLang/Example.jl.git#master` ⇒ v0.5.3</code></pre><h3 id="Adding-unregistered-packages"><a class="docs-heading-anchor" href="#Adding-unregistered-packages">Adding unregistered packages</a><a id="Adding-unregistered-packages-1"></a><a class="docs-heading-anchor-permalink" href="#Adding-unregistered-packages" title="Permalink"></a></h3><p>If a package is not in a registry, it can be added by specifying a URL to the Git repository:</p><pre><code class="language-julia-repl hljs">(@v1.8) pkg&gt; add https://github.com/fredrikekre/ImportMacros.jl
     Cloning git-repo `https://github.com/fredrikekre/ImportMacros.jl`
   Resolving package versions...
    Updating `~/.julia/environments/v1.8/Project.toml`
  [92a963f6] + ImportMacros v1.0.0 `https://github.com/fredrikekre/ImportMacros.jl#master`
    Updating `~/environments/v1.9/Manifest.toml`
  [92a963f6] + ImportMacros v1.0.0 `https://github.com/fredrikekre/ImportMacros.jl#master`</code></pre><p>The dependencies of the unregistered package (here <code>MacroTools</code>) got installed. For unregistered packages, we could have given a branch name (or commit SHA1) to track using <code>#</code>, just like for registered packages.</p><p>If you want to add a package using the SSH-based <code>git</code> protocol, you have to use quotes because the URL contains a <code>@</code>. For example,</p><pre><code class="language-julia-repl hljs">(@v1.8) pkg&gt; add &quot;git@github.com:fredrikekre/ImportMacros.jl.git&quot;
    Cloning git-repo `git@github.com:fredrikekre/ImportMacros.jl.git`
   Updating registry at `~/.julia/registries/General`
  Resolving package versions...
Updating `~/.julia/environments/v1/Project.toml`
  [92a963f6] + ImportMacros v1.0.0 `git@github.com:fredrikekre/ImportMacros.jl.git#master`
Updating `~/.julia/environments/v1/Manifest.toml`
  [92a963f6] + ImportMacros v1.0.0 `git@github.com:fredrikekre/ImportMacros.jl.git#master`</code></pre><h4 id="Adding-a-package-in-a-subdirectory-of-a-repository"><a class="docs-heading-anchor" href="#Adding-a-package-in-a-subdirectory-of-a-repository">Adding a package in a subdirectory of a repository</a><a id="Adding-a-package-in-a-subdirectory-of-a-repository-1"></a><a class="docs-heading-anchor-permalink" href="#Adding-a-package-in-a-subdirectory-of-a-repository" title="Permalink"></a></h4><p>If the package you want to add by URL is not in the root of the repository, then you need pass that subdirectory using <code>:</code>. For instance, to add the <code>SnoopCompileCore</code> package in the <a href="https://github.com/timholy/SnoopCompile.jl">SnoopCompile</a> repository:</p><pre><code class="language-julia-repl hljs">pkg&gt; add https://github.com/timholy/SnoopCompile.jl.git:SnoopCompileCore
    Cloning git-repo `https://github.com/timholy/SnoopCompile.jl.git`
   Resolving package versions...
    Updating `~/.julia/environments/v1.8/Project.toml`
  [e2b509da] + SnoopCompileCore v2.9.0 `https://github.com/timholy/SnoopCompile.jl.git:SnoopCompileCore#master`
    Updating `~/.julia/environments/v1.8/Manifest.toml`
  [e2b509da] + SnoopCompileCore v2.9.0 `https://github.com/timholy/SnoopCompile.jl.git:SnoopCompileCore#master`
  [9e88b42a] + Serialization</code></pre><h3 id="Adding-a-local-package"><a class="docs-heading-anchor" href="#Adding-a-local-package">Adding a local package</a><a id="Adding-a-local-package-1"></a><a class="docs-heading-anchor-permalink" href="#Adding-a-local-package" title="Permalink"></a></h3><p>Instead of giving a URL of a git repo to <code>add</code> we could instead have given a local path <strong>to a git repo</strong>. This works similar to adding a URL. The local repository will be tracked (at some branch) and updates from that local repo are pulled when packages are updated.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>Note that tracking a package through <code>add</code> is distinct from <code>develop</code> (which is described in the next section). When using <code>add</code> on a local git repository, changes to files in the local package repository will not immediately be reflected when loading that package. The changes would have to be committed and the packages updated in order to pull in the changes. In the majority of cases, you want to use <code>develop</code> on a local path, <strong>not <code>add</code></strong>.</p></div></div><h3 id="developing"><a class="docs-heading-anchor" href="#developing">Developing packages</a><a id="developing-1"></a><a class="docs-heading-anchor-permalink" href="#developing" title="Permalink"></a></h3><p>By only using <code>add</code> your environment always has a &quot;reproducible state&quot;, in other words, as long as the repositories and registries used are still accessible it is possible to retrieve the exact state of all the dependencies in the environment. This has the advantage that you can send your environment (<code>Project.toml</code> and <code>Manifest.toml</code>) to someone else and they can <a href="../api/#Pkg.instantiate"><code>Pkg.instantiate</code></a> that environment in the same state as you had it locally. However, when you are developing a package, it is more convenient to load packages at their current state at some path. For this reason, the <code>dev</code> command exists.</p><p>Let&#39;s try to <code>dev</code> a registered package:</p><pre><code class="language-julia-repl hljs">(@v1.8) pkg&gt; dev Example
  Updating git-repo `https://github.com/JuliaLang/Example.jl.git`
   Resolving package versions...
    Updating `~/.julia/environments/v1.8/Project.toml`
  [7876af07] + Example v0.5.4 `~/.julia/dev/Example`
    Updating `~/.julia/environments/v1.8/Manifest.toml`
  [7876af07] + Example v0.5.4 `~/.julia/dev/Example`</code></pre><p>The <code>dev</code> command fetches a full clone of the package to <code>~/.julia/dev/</code> (the path can be changed by setting the environment variable <code>JULIA_PKG_DEVDIR</code>, the default being <code>joinpath(DEPOT_PATH[1],&quot;dev&quot;)</code>). When importing <code>Example</code> julia will now import it from <code>~/.julia/dev/Example</code> and whatever local changes have been made to the files in that path are consequently reflected in the code loaded. When we used <code>add</code> we said that we tracked the package repository; we here say that we track the path itself. Note the package manager will never touch any of the files at a tracked path. It is therefore up to you to pull updates, change branches, etc. If we try to <code>dev</code> a package at some branch that already exists at <code>~/.julia/dev/</code> the package manager will simply re-use the existing path. If <code>dev</code> is used on a local path, that path to that package is recorded and used when loading that package. The path will be recorded relative to the project file, unless it is given as an absolute path.</p><p>Let&#39;s try modify the file at  <code>~/.julia/dev/Example/src/Example.jl</code> and add a simple function:</p><pre><code class="language-julia hljs">plusone(x::Int) = x + 1</code></pre><p>Now we can go back to the Julia REPL and load the package and run the new function:</p><pre><code class="language-julia-repl hljs">julia&gt; import Example
[ Info: Precompiling Example [7876af07-990d-54b4-ab0e-23690620f79a]

julia&gt; Example.plusone(1)
2</code></pre><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>A package can only be loaded once per Julia session. If you have run <code>import Example</code> in the current Julia session, you will have to restart Julia to see the changes to Example. <a href="https://github.com/timholy/Revise.jl/">Revise.jl</a> can make this process significantly more pleasant, but setting it up is beyond the scope of this guide.</p></div></div><p>To stop tracking a path and use the registered version again, use <code>free</code>:</p><pre><code class="language-julia-repl hljs">(@v1.8) pkg&gt; free Example
   Resolving package versions...
    Updating `~/.julia/environments/v1.8/Project.toml`
  [7876af07] ~ Example v0.5.4 `~/.julia/dev/Example` ⇒ v0.5.3
    Updating `~/.julia/environments/v1.8/Manifest.toml`
  [7876af07] ~ Example v0.5.4 `~/.julia/dev/Example` ⇒ v0.5.3</code></pre><p>It should be pointed out that by using <code>dev</code> your project is now inherently stateful. Its state depends on the current content of the files at the path and the manifest cannot be &quot;instantiated&quot; by someone else without knowing the exact content of all the packages that are tracking a path.</p><p>Note that if you add a dependency to a package that tracks a local path, the Manifest (which contains the whole dependency graph) will become out of sync with the actual dependency graph. This means that the package will not be able to load that dependency since it is not recorded in the Manifest. To synchronize the Manifest, use the REPL command <code>resolve</code>.</p><p>In addition to absolute paths, <code>add</code> and <code>dev</code> can accept relative paths to packages. In this case, the relative path from the active project to the package is stored. This approach is useful when the relative location of tracked dependencies is more important than their absolute location. For example, the tracked dependencies can be stored inside of the active project directory. The whole directory can be moved and <code>Pkg</code> will still be able to find the dependencies because their path relative to the active project is preserved even though their absolute path has changed.</p><h2 id="Removing-packages"><a class="docs-heading-anchor" href="#Removing-packages">Removing packages</a><a id="Removing-packages-1"></a><a class="docs-heading-anchor-permalink" href="#Removing-packages" title="Permalink"></a></h2><p>Packages can be removed from the current project by using <code>pkg&gt; rm Package</code>. This will only remove packages that exist in the project; to remove a package that only exists as a dependency use <code>pkg&gt; rm --manifest DepPackage</code>. Note that this will remove all packages that (recursively) depend on <code>DepPackage</code>.</p><h2 id="updating"><a class="docs-heading-anchor" href="#updating">Updating packages</a><a id="updating-1"></a><a class="docs-heading-anchor-permalink" href="#updating" title="Permalink"></a></h2><p>When new versions of packages are released, it is a good idea to update. Simply calling <code>up</code> will try to update <em>all</em> the dependencies of the project to the latest compatible version. Sometimes this is not what you want. You can specify a subset of the dependencies to upgrade by giving them as arguments to <code>up</code>, e.g:</p><pre><code class="language-julia-repl hljs">(@v1.8) pkg&gt; up Example</code></pre><p>This will only allow Example do upgrade. If you also want to allow dependencies of Example to upgrade (with the exception of packages that are in the project) you can pass the <code>--preserve=direct</code> flag.</p><pre><code class="language-julia-repl hljs">(@v1.8) pkg&gt; up --preserve=direct Example</code></pre><p>And if you also want to allow dependencies of Example that are also in the project to upgrade, you can use <code>--preserve=none</code>:</p><pre><code class="language-julia-repl hljs">(@v1.8) pkg&gt; up --preserve=none Example</code></pre><h2 id="Pinning-a-package"><a class="docs-heading-anchor" href="#Pinning-a-package">Pinning a package</a><a id="Pinning-a-package-1"></a><a class="docs-heading-anchor-permalink" href="#Pinning-a-package" title="Permalink"></a></h2><p>A pinned package will never be updated. A package can be pinned using <code>pin</code>, for example:</p><pre><code class="language-julia-repl hljs">(@v1.8) pkg&gt; pin Example
 Resolving package versions...
  Updating `~/.julia/environments/v1.8/Project.toml`
  [7876af07] ~ Example v0.5.3 ⇒ v0.5.3 ⚲
  Updating `~/.julia/environments/v1.8/Manifest.toml`
  [7876af07] ~ Example v0.5.3 ⇒ v0.5.3 ⚲</code></pre><p>Note the pin symbol <code>⚲</code> showing that the package is pinned. Removing the pin is done using <code>free</code></p><pre><code class="language-julia-repl hljs">(@v1.8) pkg&gt; free Example
  Updating `~/.julia/environments/v1.8/Project.toml`
  [7876af07] ~ Example v0.5.3 ⚲ ⇒ v0.5.3
  Updating `~/.julia/environments/v1.8/Manifest.toml`
  [7876af07] ~ Example v0.5.3 ⚲ ⇒ v0.5.3</code></pre><h2 id="Testing-packages"><a class="docs-heading-anchor" href="#Testing-packages">Testing packages</a><a id="Testing-packages-1"></a><a class="docs-heading-anchor-permalink" href="#Testing-packages" title="Permalink"></a></h2><p>The tests for a package can be run using <code>test</code> command:</p><pre><code class="language-julia-repl hljs">(@v1.8) pkg&gt; test Example
...
   Testing Example
   Testing Example tests passed</code></pre><h2 id="Building-packages"><a class="docs-heading-anchor" href="#Building-packages">Building packages</a><a id="Building-packages-1"></a><a class="docs-heading-anchor-permalink" href="#Building-packages" title="Permalink"></a></h2><p>The build step of a package is automatically run when a package is first installed. The output of the build process is directed to a file. To explicitly run the build step for a package, the <code>build</code> command is used:</p><pre><code class="language-julia-repl hljs">(@v1.8) pkg&gt; build IJulia
    Building Conda ─→ `~/.julia/scratchspaces/44cfe95a-1eb2-52ea-b672-e2afdf69b78f/6e47d11ea2776bc5627421d59cdcc1296c058071/build.log`
    Building IJulia → `~/.julia/scratchspaces/44cfe95a-1eb2-52ea-b672-e2afdf69b78f/98ab633acb0fe071b671f6c1785c46cd70bb86bd/build.log`

julia&gt; print(read(joinpath(homedir(), &quot;.julia/scratchspaces/44cfe95a-1eb2-52ea-b672-e2afdf69b78f/98ab633acb0fe071b671f6c1785c46cd70bb86bd/build.log&quot;), String))
[ Info: Installing Julia kernelspec in /home/kc/.local/share/jupyter/kernels/julia-1.8</code></pre><h2 id="conflicts"><a class="docs-heading-anchor" href="#conflicts">Interpreting and resolving version conflicts</a><a id="conflicts-1"></a><a class="docs-heading-anchor-permalink" href="#conflicts" title="Permalink"></a></h2><p>An environment consists of a set of mutually-compatible packages. Sometimes, you can find yourself in a situation in which two packages you&#39;d like to use simultaneously have incompatible requirements. In such cases you&#39;ll get an &quot;Unsatisfiable requirements&quot; error:</p><pre class="documenter-example-output"><code class="nohighlight hljs ansi">pkg&gt; add A
Unsatisfiable requirements detected for package <span class="sgr35">D [756980fe]</span>:
 <span class="sgr35">D [756980fe]</span> log:
 ├─possible versions are: <span class="sgr35">0.1.0 - 0.2.1</span> or uninstalled
 ├─restricted by compatibility requirements with <span class="sgr96">B [f4259836]</span> to versions: <span class="sgr35">0.1.0</span>
 │ └─<span class="sgr96">B [f4259836]</span> log:
 │   ├─possible versions are: <span class="sgr96">1.0.0</span> or uninstalled
 │   └─restricted to versions <span class="sgr96">*</span> by an explicit requirement, leaving only versions: <span class="sgr96">1.0.0</span>
 └─restricted by compatibility requirements with <span class="sgr32">C [c99a7cb2]</span> to versions: <span class="sgr35">0.2.0</span> — no versions left
   └─<span class="sgr32">C [c99a7cb2]</span> log:
     ├─possible versions are: <span class="sgr32">0.1.0 - 0.2.0</span> or uninstalled
     └─restricted by compatibility requirements with <span class="sgr31">A [29c70717]</span> to versions: <span class="sgr32">0.2.0</span>
       └─<span class="sgr31">A [29c70717]</span> log:
         ├─possible versions are: <span class="sgr31">1.0.0</span> or uninstalled
         └─restricted to versions <span class="sgr31">*</span> by an explicit requirement, leaving only versions: <span class="sgr31">1.0.0</span></code></pre><p>This message means that a package named <code>D</code> has a version conflict. Even if you have never <code>add</code>ed <code>D</code> directly, this kind of error can arise if <code>D</code> is required by other packages that you are trying to use.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>When tackling these conflicts, first consider that the bigger a project gets, the more likely this is to happen. Using targeted projects for a given task is highly recommended, and removing unused dependencies is a good first step when hitting these issues. For instance, a common pitfall is having more than a few packages in your default (i.e. <code>(@1.8)</code>) environment, and using that as an environment for all tasks you&#39;re using julia for. It&#39;s better to create a dedicated project for the task you&#39;re working on, and keep the dependencies there minimal. To read more see <a href="../environments/#Working-with-Environments">Working with Environments</a></p></div></div><p>The error message has a lot of crucial information. It may be easiest to interpret piecewise:</p><pre><code class="nohighlight hljs">Unsatisfiable requirements detected for package D [756980fe]:
 D [756980fe] log:
 ├─possible versions are: [0.1.0, 0.2.0-0.2.1] or uninstalled</code></pre><p>means that <code>D</code> has three released versions, <code>v0.1.0</code>, <code>v0.2.0</code>, and <code>v0.2.1</code>. You also have the option of not having it installed at all. Each of these options might have different implications for the set of other packages that can be installed.</p><p>Crucially, notice the stroke characters (vertical and horizontal lines) and their indentation. Together, these connect <em>messages</em> to specific <em>packages</em>. For instance the right stroke of <code>├─</code> indicates that the message to its right (<code>possible versions...</code>) is connected to the package pointed to by its vertical stroke (<code>D</code>). This same principle applies to the next line:</p><pre><code class="nohighlight hljs"> ├─restricted by compatibility requirements with B [f4259836] to versions: 0.1.0</code></pre><p>The vertical stroke here is also aligned under <code>D</code>, and thus this message is in reference to <code>D</code>. Specifically, there&#39;s some other package <code>B</code> that depends on version <code>v0.1.0</code> of <code>D</code>. Notice that this is not the newest version of <code>D</code>.</p><p>Next comes some information about <code>B</code>:</p><pre><code class="nohighlight hljs"> │ └─B [f4259836] log:
 │   ├─possible versions are: 1.0.0 or uninstalled
 │   └─restricted to versions * by an explicit requirement, leaving only versions 1.0.0</code></pre><p>The two lines below the first have a vertical stroke that aligns with <code>B</code>, and thus they provide information about <code>B</code>. They tell you that <code>B</code> has just one release, <code>v1.0.0</code>. You&#39;ve not specified a particular version of <code>B</code> (<code>restricted to versions *</code> means that any version will do), but the <code>explicit requirement</code> means that you&#39;ve asked for <code>B</code> to be part of your environment, for example by <code>pkg&gt; add B</code>. You might have asked for <code>B</code> previously, and the requirement is still active.</p><p>The conflict becomes clear with the line</p><pre><code class="nohighlight hljs">└─restricted by compatibility requirements with C [c99a7cb2] to versions: 0.2.0 — no versions left</code></pre><p>Here again, the vertical stroke aligns with <code>D</code>: this means that <code>D</code> is <em>also</em> required by another package, <code>C</code>. <code>C</code> requires <code>v0.2.0</code> of <code>D</code>, and this conflicts with <code>B</code>&#39;s need for <code>v0.1.0</code> of <code>D</code>. This explains the conflict.</p><p>But wait, you might ask, what is <code>C</code> and why do I need it at all? The next few lines introduce the problem:</p><pre><code class="nohighlight hljs">   └─C [c99a7cb2] log:
     ├─possible versions are: [0.1.0-0.1.1, 0.2.0] or uninstalled
     └─restricted by compatibility requirements with A [29c70717] to versions: 0.2.0</code></pre><p>These provide more information about <code>C</code>, revealing that it has 3 released versions: <code>v0.1.0</code>, <code>v0.1.1</code>, and <code>v0.2.0</code>. Moreover, <code>C</code> is required by another package <code>A</code>. Indeed, <code>A</code>&#39;s requirements are such that we need <code>v0.2.0</code> of <code>C</code>. <code>A</code>&#39;s origin is revealed on the next lines:</p><pre><code class="nohighlight hljs">       └─A [29c70717] log:
         ├─possible versions are: 1.0.0 or uninstalled
         └─restricted to versions * by an explicit requirement, leaving only versions 1.0.0</code></pre><p>So we can see that <code>A</code> was explicitly required, and in this case, it&#39;s because we were trying to <code>add</code> it to our environment.</p><p>In summary, we explicitly asked to use <code>A</code> and <code>B</code>, but this gave a conflict for <code>D</code>. The reason was that <code>B</code> and <code>C</code> require conflicting versions of <code>D</code>. Even though <code>C</code> isn&#39;t something we asked for explicitly, it was needed by <code>A</code>.</p><p>To fix such errors, you have a number of options:</p><ul><li>try <a href="#updating">updating your packages</a>. It&#39;s possible the developers of these packages have recently released new versions that are mutually compatible.</li><li>remove either <code>A</code> or <code>B</code> from your environment. Perhaps <code>B</code> is left over from something you were previously working on, and you don&#39;t need it anymore. If you don&#39;t need <code>A</code> and <code>B</code> at the same time, this is the easiest way to fix the problem.</li><li>try reporting your conflict. In this case, we were able to deduce that <code>B</code> requires an outdated version of <code>D</code>. You could thus report an issue in the development repository of <code>B.jl</code> asking for an updated version.</li><li>try fixing the problem yourself. This becomes easier once you understand <code>Project.toml</code> files and how they declare their compatibility requirements. We&#39;ll return to this example in <a href="../compatibility/#Fixing-conflicts">Fixing conflicts</a>.</li></ul><h2 id="Garbage-collecting-old,-unused-packages"><a class="docs-heading-anchor" href="#Garbage-collecting-old,-unused-packages">Garbage collecting old, unused packages</a><a id="Garbage-collecting-old,-unused-packages-1"></a><a class="docs-heading-anchor-permalink" href="#Garbage-collecting-old,-unused-packages" title="Permalink"></a></h2><p>As packages are updated and projects are deleted, installed package versions and artifacts that were once used will inevitably become old and not used from any existing project. <code>Pkg</code> keeps a log of all projects used so it can go through the log and see exactly which projects still exist and what packages/artifacts those projects used. If a package or artifact is not marked as used by any project, it is added to a list of orphaned packages. Packages and artifacts that are in the orphan list for 30 days without being used again are deleted from the system on the next garbage collection. This timing is configurable via the <code>collect_delay</code> keyword argument to <code>Pkg.gc()</code>. A value of <code>0</code> will cause anything currently not in use to be collected immediately, skipping the orphans list entirely; If you are short on disk space and want to clean out as many unused packages and artifacts as possible, you may want to try this, but if you need these versions again, you will have to download them again. To run a typical garbage collection with default arguments, simply use the <code>gc</code> command at the <code>pkg&gt;</code> REPL:</p><pre><code class="language-julia-repl hljs">(@v1.8) pkg&gt; gc
    Active manifests at:
        `~/BinaryProvider/Manifest.toml`
        ...
        `~/Compat.jl/Manifest.toml`
    Active artifacts:
        `~/src/MyProject/Artifacts.toml`

    Deleted ~/.julia/packages/BenchmarkTools/1cAj: 146.302 KiB
    Deleted ~/.julia/packages/Cassette/BXVB: 795.557 KiB
   ...
   Deleted `~/.julia/artifacts/e44cdf2579a92ad5cbacd1cddb7414c8b9d2e24e` (152.253 KiB)
   Deleted `~/.julia/artifacts/f2df5266567842bbb8a06acca56bcabf813cd73f` (21.536 MiB)

   Deleted 36 package installations (113.205 MiB)
   Deleted 15 artifact installations (20.759 GiB)</code></pre><p>Note that only packages in <code>~/.julia/packages</code> are deleted.</p><h2 id="Offline-Mode"><a class="docs-heading-anchor" href="#Offline-Mode">Offline Mode</a><a id="Offline-Mode-1"></a><a class="docs-heading-anchor-permalink" href="#Offline-Mode" title="Permalink"></a></h2><p>In offline mode, Pkg tries to do as much as possible without connecting to internet. For example, when adding a package Pkg only considers versions that are already downloaded in version resolution.</p><p>To work in offline mode use <code>import Pkg; Pkg.offline(true)</code> or set the environment variable <code>JULIA_PKG_OFFLINE</code> to <code>&quot;true&quot;</code>.</p><h2 id="Pkg-client/server"><a class="docs-heading-anchor" href="#Pkg-client/server">Pkg client/server</a><a id="Pkg-client/server-1"></a><a class="docs-heading-anchor-permalink" href="#Pkg-client/server" title="Permalink"></a></h2><p>When you add a new registered package, usually three things would happen:</p><ol><li>update registries,</li><li>download the source code of the package,</li><li>if not available, download <a href="../artifacts/#Artifacts">artifacts</a> required by the package.</li></ol><p>The <a href="https://github.com/JuliaRegistries/General">General</a> registry and most packages in it are developed on GitHub, while the artifacts data are hosted on various platforms. When the network connection to GitHub and AWS S3 is not stable, it is usually not a good experience to install or update packages. Fortunately, the pkg client/server feature improves the experience in the sense that:</p><ol><li>If set, the pkg client would first try to download data from the pkg server,</li><li>if that fails, then it falls back to downloading from the original sources (e.g., GitHub).</li></ol><p>By default, the client makes upto <code>8</code> concurrent requests to the server. This can set by the environment variable <code>JULIA_PKG_CONCURRENT_DOWNLOADS</code>.</p><p>Since Julia 1.5, <code>https://pkg.julialang.org</code> provided by the JuliaLang organization is used as the default pkg server. In most cases, this should be transparent, but users can still set/unset a pkg server upstream via the environment variable <code>JULIA_PKG_SERVER</code>.</p><pre><code class="language-julia hljs"># manually set it to some pkg server
julia&gt; ENV[&quot;JULIA_PKG_SERVER&quot;] = &quot;pkg.julialang.org&quot;
&quot;pkg.julialang.org&quot;

# unset to always download data from original sources
julia&gt; ENV[&quot;JULIA_PKG_SERVER&quot;] = &quot;&quot;
&quot;&quot;</code></pre><p>For clarification, some sources are not provided by Pkg server</p><ul><li>packages/registries fetched via <code>git</code><ul><li><code>]add https://github.com/JuliaLang/Example.jl.git</code></li><li><code>]add Example#v0.5.3</code> (Note that this is different from <code>]add Example@0.5.3</code>)</li><li><code>]registry add https://github.com/JuliaRegistries/General.git</code>, including registries installed by Julia before 1.4.</li></ul></li><li>artifacts without download info<ul><li><a href="https://github.com/JuliaImages/TestImages.jl/blob/eaa94348df619c65956e8cfb0032ecddb7a29d3a/Artifacts.toml#L1-L2">TestImages</a></li></ul></li></ul><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>If you have a new registry installed via pkg server, then it&#39;s impossible for old Julia versions to update the registry because Julia before 1.4 doesn&#39;t know how to fetch new data. Hence, for users that frequently switch between multiple Julia versions, it is recommended to still use git-controlled registries.</p></div></div><p>For the deployment of pkg server, please refer to <a href="https://github.com/JuliaPackaging/PkgServer.jl">PkgServer.jl</a>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../getting-started/">« <strong>2.</strong> Getting Started</a><a class="docs-footer-nextpage" href="../environments/"><strong>4.</strong> Working with Environments »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.9.0 on <span class="colophon-date" title="Sunday 30 March 2025 19:49">Sunday 30 March 2025</span>. Using Julia version 1.13.0-DEV.327.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
