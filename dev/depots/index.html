<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>15. Depots · Pkg.jl</title><meta name="title" content="15. Depots · Pkg.jl"/><meta property="og:title" content="15. Depots · Pkg.jl"/><meta property="twitter:title" content="15. Depots · Pkg.jl"/><meta name="description" content="Documentation for Pkg.jl."/><meta property="og:description" content="Documentation for Pkg.jl."/><meta property="twitter:description" content="Documentation for Pkg.jl."/><meta property="og:url" content="https://julialang.github.io/Pkg.jl/v1/depots/"/><meta property="twitter:url" content="https://julialang.github.io/Pkg.jl/v1/depots/"/><link rel="canonical" href="https://julialang.github.io/Pkg.jl/v1/depots/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/custom.css" rel="stylesheet" type="text/css"/><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="Pkg.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">Pkg.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../"><strong>1.</strong> Introduction</a></li><li><a class="tocitem" href="../getting-started/"><strong>2.</strong> Getting Started</a></li><li><a class="tocitem" href="../managing-packages/"><strong>3.</strong> Managing Packages</a></li><li><a class="tocitem" href="../environments/"><strong>4.</strong> Working with Environments</a></li><li><a class="tocitem" href="../creating-packages/"><strong>5.</strong> Creating Packages</a></li><li><a class="tocitem" href="../apps/"><strong>6.</strong> Apps</a></li><li><a class="tocitem" href="../compatibility/"><strong>7.</strong> Compatibility</a></li><li><a class="tocitem" href="../registries/"><strong>8.</strong> Registries</a></li><li><a class="tocitem" href="../artifacts/"><strong>9.</strong> Artifacts</a></li><li><a class="tocitem" href="../glossary/"><strong>10.</strong> Glossary</a></li><li><a class="tocitem" href="../toml-files/"><strong>11.</strong> <code>Project.toml</code> and <code>Manifest.toml</code></a></li><li><a class="tocitem" href="../repl/"><strong>11.</strong> REPL Mode Reference</a></li><li><a class="tocitem" href="../api/"><strong>13.</strong> API Reference</a></li><li><a class="tocitem" href="../protocol/"><strong>14.</strong> Package and Storage Server Protocol Reference</a></li><li class="is-active"><a class="tocitem" href><strong>15.</strong> Depots</a><ul class="internal"><li><a class="tocitem" href="#Configuring-the-depot-path-with-JULIA_DEPOT_PATH"><span>Configuring the depot path with <code>JULIA_DEPOT_PATH</code></span></a></li><li><a class="tocitem" href="#Shared-depots-for-distributed-computing"><span>Shared depots for distributed computing</span></a></li><li><a class="tocitem" href="#Setting-up-shared-depots-for-multi-user-systems"><span>Setting up shared depots for multi-user systems</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href><strong>15.</strong> Depots</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href><strong>15.</strong> Depots</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaLang/Pkg.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaLang/Pkg.jl/blob/master/docs/src/depots.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="**15.**-Depots"><a class="docs-heading-anchor" href="#**15.**-Depots"><strong>15.</strong> Depots</a><a id="**15.**-Depots-1"></a><a class="docs-heading-anchor-permalink" href="#**15.**-Depots" title="Permalink"></a></h1><p>The packages installed for a particular environment, defined in the files <code>Project.toml</code> and <code>Manifest.toml</code> within the directory structure, are not actually installed within that directory but into a &quot;depot&quot;. The location of the depots are set by the variable <a href="https://docs.julialang.org/en/v1/base/constants/#Base.DEPOT_PATH"><code>DEPOT_PATH</code></a>.</p><p>For details on the default depot locations and how they vary by installation method, see the <a href="https://docs.julialang.org/en/v1/base/constants/#Base.DEPOT_PATH"><code>DEPOT_PATH</code></a> documentation.</p><p>Packages which are installed by a user go into the first depot and the Julia standard library is in the last depot.</p><p>You should not need to manage the user depot directly. Pkg will automatically clean up the depots when packages are removed after a delay. However you may want to manually remove old <code>.julia/compiled/</code> subdirectories if you have any that reside for older Julia versions that you no longer use (hence have not been run to tidy themselves up).</p><h2 id="Configuring-the-depot-path-with-JULIA_DEPOT_PATH"><a class="docs-heading-anchor" href="#Configuring-the-depot-path-with-JULIA_DEPOT_PATH">Configuring the depot path with <code>JULIA_DEPOT_PATH</code></a><a id="Configuring-the-depot-path-with-JULIA_DEPOT_PATH-1"></a><a class="docs-heading-anchor-permalink" href="#Configuring-the-depot-path-with-JULIA_DEPOT_PATH" title="Permalink"></a></h2><p>The depot path can be configured using the <code>JULIA_DEPOT_PATH</code> environment variable, which is used to populate the global Julia <a href="https://docs.julialang.org/en/v1/base/constants/#Base.DEPOT_PATH"><code>DEPOT_PATH</code></a> variable at startup. For complete details on the behavior of this environment variable, see the <a href="https://docs.julialang.org/en/v1/manual/environment-variables/#JULIA_DEPOT_PATH">environment variables documentation</a>.</p><h3 id="When-to-customize-the-depot-path"><a class="docs-heading-anchor" href="#When-to-customize-the-depot-path">When to customize the depot path</a><a id="When-to-customize-the-depot-path-1"></a><a class="docs-heading-anchor-permalink" href="#When-to-customize-the-depot-path" title="Permalink"></a></h3><p>You may want to change your depot location in several scenarios:</p><ul><li><strong>Corporate environments</strong>: When your user folder synchronizes with a server (such as with Active Directory roaming profiles), storing thousands of package files in the default depot can cause significant slowdowns during login/logout.</li><li><strong>Storage constraints</strong>: When your user directory has limited quota or is on a slow network drive.</li><li><strong>Shared computing</strong>: When multiple users need access to the same packages on a shared system.</li><li><strong>Custom organization</strong>: When you prefer to organize Julia packages separately from your user directory.</li></ul><h3 id="Platform-specific-configuration"><a class="docs-heading-anchor" href="#Platform-specific-configuration">Platform-specific configuration</a><a id="Platform-specific-configuration-1"></a><a class="docs-heading-anchor-permalink" href="#Platform-specific-configuration" title="Permalink"></a></h3><p><code>JULIA_DEPOT_PATH</code> is an <strong>operating system environment variable</strong>, not a Julia REPL command. The method for setting it varies by platform:</p><h4 id="Unix/Linux/macOS"><a class="docs-heading-anchor" href="#Unix/Linux/macOS">Unix/Linux/macOS</a><a id="Unix/Linux/macOS-1"></a><a class="docs-heading-anchor-permalink" href="#Unix/Linux/macOS" title="Permalink"></a></h4><p>For temporary configuration (current shell session only):</p><pre><code class="language-bash hljs">export JULIA_DEPOT_PATH=&quot;/custom/depot:&quot;</code></pre><p>For permanent configuration, add the export command to your shell configuration file (e.g., <code>~/.bashrc</code>, <code>~/.zshrc</code>, or <code>~/.profile</code>).</p><h4 id="Windows"><a class="docs-heading-anchor" href="#Windows">Windows</a><a id="Windows-1"></a><a class="docs-heading-anchor-permalink" href="#Windows" title="Permalink"></a></h4><p>For temporary configuration in <strong>PowerShell</strong> (current session only):</p><pre><code class="language-powershell hljs">$env:JULIA_DEPOT_PATH = &quot;C:\custom\depot;&quot;</code></pre><p>For temporary configuration in <strong>Command Prompt</strong> (current session only):</p><pre><code class="language-cmd hljs">set JULIA_DEPOT_PATH=C:\custom\depot;</code></pre><p>For permanent system-wide or user-level configuration:</p><ol><li>Press <code>Win+R</code> to open the Run dialog</li><li>Type <code>sysdm.cpl</code> and press Enter</li><li>Go to the &quot;Advanced&quot; tab</li><li>Click &quot;Environment Variables&quot;</li><li>Add a new user or system variable named <code>JULIA_DEPOT_PATH</code> with your desired path (e.g., <code>C:\custom\depot;</code>)</li></ol><div class="admonition is-info" id="Note-8b13e178acc39e6e"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-8b13e178acc39e6e" title="Permalink"></a></header><div class="admonition-body"><p>The trailing path separator (<code>:</code> on Unix, <code>;</code> on Windows) is crucial for including the default system depots, which contain the standard library and other bundled resources. Without it, Julia will only use the specified depot and will have to precompile standard library packages, which can be time-consuming and inefficient.</p></div></div><h3 id="Alternative-configuration-methods"><a class="docs-heading-anchor" href="#Alternative-configuration-methods">Alternative configuration methods</a><a id="Alternative-configuration-methods-1"></a><a class="docs-heading-anchor-permalink" href="#Alternative-configuration-methods" title="Permalink"></a></h3><p>Instead of setting an operating system environment variable, you can configure the depot path using Julia&#39;s <code>startup.jl</code> file, which runs automatically when Julia starts:</p><pre><code class="language-julia hljs"># In ~/.julia/config/startup.jl (Unix) or C:\Users\USERNAME\.julia\config\startup.jl (Windows)
empty!(DEPOT_PATH)
push!(DEPOT_PATH, &quot;/custom/depot&quot;)
push!(DEPOT_PATH, joinpath(homedir(), &quot;.julia&quot;))  # Include default depot as fallback</code></pre><p>This approach provides per-user permanent configuration without requiring operating system environment variable changes. However, setting <code>JULIA_DEPOT_PATH</code> is generally preferred as it takes effect before Julia loads any code.</p><div class="admonition is-warning" id="Warning-a63a53e7a50189cc"><header class="admonition-header">Warning<a class="admonition-anchor" href="#Warning-a63a53e7a50189cc" title="Permalink"></a></header><div class="admonition-body"><p>Modifying <code>DEPOT_PATH</code> at runtime (in the REPL or in scripts) after Julia has started is generally not recommended, as Julia may have already loaded packages from the original depot locations.</p></div></div><h2 id="Shared-depots-for-distributed-computing"><a class="docs-heading-anchor" href="#Shared-depots-for-distributed-computing">Shared depots for distributed computing</a><a id="Shared-depots-for-distributed-computing-1"></a><a class="docs-heading-anchor-permalink" href="#Shared-depots-for-distributed-computing" title="Permalink"></a></h2><p>When using Julia in distributed computing environments, such as high-performance computing (HPC) clusters, it&#39;s recommended to use a shared depot via <code>JULIA_DEPOT_PATH</code>. This allows multiple Julia processes to share precompiled packages and reduces redundant compilation.</p><p>Since Julia v1.10, multiple processes using the same depot coordinate via pidfile locks to ensure only one process precompiles a package while others wait. However, due to the caching of native code in pkgimages since v1.9, you may need to set the <code>JULIA_CPU_TARGET</code> environment variable appropriately to ensure cache compatibility across different worker nodes with varying CPU capabilities.</p><p>For more details, see the <a href="https://docs.julialang.org/en/v1/manual/faq/#Computing-cluster">FAQ section on distributed computing</a> and the <a href="https://docs.julialang.org/en/v1/manual/environment-variables/#JULIA_CPU_TARGET">environment variables documentation</a>.</p><h2 id="Setting-up-shared-depots-for-multi-user-systems"><a class="docs-heading-anchor" href="#Setting-up-shared-depots-for-multi-user-systems">Setting up shared depots for multi-user systems</a><a id="Setting-up-shared-depots-for-multi-user-systems-1"></a><a class="docs-heading-anchor-permalink" href="#Setting-up-shared-depots-for-multi-user-systems" title="Permalink"></a></h2><p>In multi-user environments such as JupyterHub deployments, university computing labs, or shared servers, system administrators often want to provide a set of commonly-used packages that are available to all users while still allowing individual users to install their own packages. This can be achieved by setting up a layered depot structure with a read-only shared depot and user-specific writable depots.</p><h3 id="Overview-of-the-approach"><a class="docs-heading-anchor" href="#Overview-of-the-approach">Overview of the approach</a><a id="Overview-of-the-approach-1"></a><a class="docs-heading-anchor-permalink" href="#Overview-of-the-approach" title="Permalink"></a></h3><p>The key concept is to use <code>JULIA_DEPOT_PATH</code> to create a layered depot structure where:</p><ol><li><strong>User depot</strong> (first in path): User-specific packages and modifications</li><li><strong>Shared depot</strong> (middle in path): Common packages installed by administrators</li><li><strong>System depot</strong> (last in path): Julia standard library and bundled resources</li></ol><p>When Julia searches for packages, it looks through depots in order. This allows users to:</p><ul><li>Access pre-installed packages from the shared depot</li><li>Install additional packages into their own depot</li><li>Override shared packages if needed by installing different versions in their user depot</li></ul><h3 id="Administrator-setup"><a class="docs-heading-anchor" href="#Administrator-setup">Administrator setup</a><a id="Administrator-setup-1"></a><a class="docs-heading-anchor-permalink" href="#Administrator-setup" title="Permalink"></a></h3><h4 id="Step-1:-Create-the-shared-depot"><a class="docs-heading-anchor" href="#Step-1:-Create-the-shared-depot">Step 1: Create the shared depot</a><a id="Step-1:-Create-the-shared-depot-1"></a><a class="docs-heading-anchor-permalink" href="#Step-1:-Create-the-shared-depot" title="Permalink"></a></h4><p>As a system administrator, create a shared depot location accessible to all users:</p><pre><code class="language-bash hljs"># Create shared depot directory
sudo mkdir -p /opt/julia/shared_depot

# Create a shared user for managing the depot (optional but recommended)
sudo useradd -r -s /bin/bash -d /opt/julia/shared_depot julia-shared

# Set ownership
sudo chown -R julia-shared:julia-shared /opt/julia/shared_depot</code></pre><h4 id="Step-2:-Install-shared-packages"><a class="docs-heading-anchor" href="#Step-2:-Install-shared-packages">Step 2: Install shared packages</a><a id="Step-2:-Install-shared-packages-1"></a><a class="docs-heading-anchor-permalink" href="#Step-2:-Install-shared-packages" title="Permalink"></a></h4><p>Switch to the shared user account and configure Julia to use the shared depot:</p><pre><code class="language-bash hljs">sudo su - julia-shared
export JULIA_DEPOT_PATH=&quot;/opt/julia/shared_depot:&quot;</code></pre><p>Then install commonly-used packages. You can do this interactively or by instantiating from a Project.toml:</p><pre><code class="language-bash hljs"># Interactive installation
julia -e &#39;using Pkg; Pkg.add([&quot;Plots&quot;, &quot;DataFrames&quot;, &quot;CSV&quot;, &quot;LinearAlgebra&quot;])&#39;

# Or from a Project.toml file
cd /opt/julia/shared_depot
# Create or copy your Project.toml and Manifest.toml files here
julia --project=. -e &#39;using Pkg; Pkg.instantiate()&#39;</code></pre><div class="admonition is-success" id="Tip-abd8dfe0c03e2283"><header class="admonition-header">Tip<a class="admonition-anchor" href="#Tip-abd8dfe0c03e2283" title="Permalink"></a></header><div class="admonition-body"><p>Using a <code>Project.toml</code> and <code>Manifest.toml</code> file to define the shared environment is recommended as it provides reproducibility and version control. You can maintain these files in a git repository for tracking changes.</p></div></div><h4 id="Step-3:-Clean-the-shared-depot-(optional)"><a class="docs-heading-anchor" href="#Step-3:-Clean-the-shared-depot-(optional)">Step 3: Clean the shared depot (optional)</a><a id="Step-3:-Clean-the-shared-depot-(optional)-1"></a><a class="docs-heading-anchor-permalink" href="#Step-3:-Clean-the-shared-depot-(optional)" title="Permalink"></a></h4><p>To minimize the shared depot size, you can remove registries from the shared depot:</p><pre><code class="language-bash hljs">rm -rf /opt/julia/shared_depot/registries</code></pre><p>Since Pkg only writes to the first depot in <code>JULIA_DEPOT_PATH</code>, users will maintain their own registries in their user depots anyway. Removing registries from the shared depot simply avoids storing duplicate registry data.</p><h4 id="Step-4:-Set-appropriate-permissions"><a class="docs-heading-anchor" href="#Step-4:-Set-appropriate-permissions">Step 4: Set appropriate permissions</a><a id="Step-4:-Set-appropriate-permissions-1"></a><a class="docs-heading-anchor-permalink" href="#Step-4:-Set-appropriate-permissions" title="Permalink"></a></h4><p>Make the shared depot read-only for regular users:</p><pre><code class="language-bash hljs"># Make shared depot readable by all users
sudo chmod -R a+rX /opt/julia/shared_depot

# Ensure it&#39;s not writable by others
sudo chmod -R go-w /opt/julia/shared_depot</code></pre><h3 id="User-configuration"><a class="docs-heading-anchor" href="#User-configuration">User configuration</a><a id="User-configuration-1"></a><a class="docs-heading-anchor-permalink" href="#User-configuration" title="Permalink"></a></h3><p>Each user should configure their <code>JULIA_DEPOT_PATH</code> to include both their personal depot and the shared depot. The exact syntax depends on where you want the user depot:</p><h4 id="Using-default-user-depot-location"><a class="docs-heading-anchor" href="#Using-default-user-depot-location">Using default user depot location</a><a id="Using-default-user-depot-location-1"></a><a class="docs-heading-anchor-permalink" href="#Using-default-user-depot-location" title="Permalink"></a></h4><p>To use the default <code>~/.julia</code> as the user depot with the shared depot as a fallback:</p><pre><code class="language-bash hljs">export JULIA_DEPOT_PATH=&quot;~/.julia:/opt/julia/shared_depot:&quot;</code></pre><p>The trailing <code>:</code> ensures the system depot (with standard library) is still included.</p><h4 id="Using-a-custom-user-depot-location"><a class="docs-heading-anchor" href="#Using-a-custom-user-depot-location">Using a custom user depot location</a><a id="Using-a-custom-user-depot-location-1"></a><a class="docs-heading-anchor-permalink" href="#Using-a-custom-user-depot-location" title="Permalink"></a></h4><p>If you want users to have their depot in a different location (e.g., to avoid home directory quotas):</p><pre><code class="language-bash hljs">export JULIA_DEPOT_PATH=&quot;/scratch/$USER/julia_depot:/opt/julia/shared_depot:&quot;</code></pre><h4 id="System-wide-configuration"><a class="docs-heading-anchor" href="#System-wide-configuration">System-wide configuration</a><a id="System-wide-configuration-1"></a><a class="docs-heading-anchor-permalink" href="#System-wide-configuration" title="Permalink"></a></h4><p>To configure this for all users automatically, add the export command to system-wide shell configuration files:</p><p><strong>On Linux:</strong></p><pre><code class="language-bash hljs"># In /etc/profile.d/julia.sh
export JULIA_DEPOT_PATH=&quot;~/.julia:/opt/julia/shared_depot:&quot;</code></pre><p><strong>On macOS:</strong></p><pre><code class="language-bash hljs"># In /etc/zshrc or /etc/bashrc
export JULIA_DEPOT_PATH=&quot;~/.julia:/opt/julia/shared_depot:&quot;</code></pre><p>Users can then further customize their individual depot paths if needed.</p><h3 id="Pre-seeding-user-environments"><a class="docs-heading-anchor" href="#Pre-seeding-user-environments">Pre-seeding user environments</a><a id="Pre-seeding-user-environments-1"></a><a class="docs-heading-anchor-permalink" href="#Pre-seeding-user-environments" title="Permalink"></a></h3><p>In some scenarios (e.g., for student lab computers or container images), you may want to pre-seed individual user environments. This can be done by:</p><ol><li>Creating a template environment with a <code>Project.toml</code> and <code>Manifest.toml</code></li><li>Copying these files to each user&#39;s Julia project directory</li><li>Having users (or a startup script) run <code>Pkg.instantiate()</code> on first use</li></ol><p>Since packages in the shared depot will be found automatically, <code>instantiate()</code> will only download packages that aren&#39;t already available in the shared depot.</p><pre><code class="language-bash hljs"># As administrator, create template
mkdir -p /opt/julia/template_project
# Create Project.toml with desired packages
julia --project=/opt/julia/template_project -e &#39;using Pkg; Pkg.add(&quot;Example&quot;); Pkg.add(&quot;Plots&quot;)&#39;

# Users copy the template and instantiate
cp -r /opt/julia/template_project ~/my_project
cd ~/my_project
julia --project=. -e &#39;using Pkg; Pkg.instantiate()&#39;</code></pre><h3 id="Updating-shared-packages"><a class="docs-heading-anchor" href="#Updating-shared-packages">Updating shared packages</a><a id="Updating-shared-packages-1"></a><a class="docs-heading-anchor-permalink" href="#Updating-shared-packages" title="Permalink"></a></h3><p>To update packages in the shared depot:</p><ol><li>Switch to the shared user account</li><li>Set <code>JULIA_DEPOT_PATH</code> to point only to the shared depot</li><li>Update packages as needed</li><li>Optionally, clean up old package versions to save space</li></ol><pre><code class="language-bash hljs">sudo su - julia-shared
export JULIA_DEPOT_PATH=&quot;/opt/julia/shared_depot:&quot;
julia -e &#39;using Pkg; Pkg.update()&#39;</code></pre><div class="admonition is-info" id="Note-11f551726865e621"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-11f551726865e621" title="Permalink"></a></header><div class="admonition-body"><p>Updating packages in the shared depot adds new versions alongside existing ones. Users with Manifest.toml files remain pinned to their specific versions and won&#39;t be affected. If you explicitly clean up old package versions to save disk space, users who need those versions can run <code>Pkg.instantiate()</code> to download them to their local depot.</p></div></div><h3 id="Troubleshooting"><a class="docs-heading-anchor" href="#Troubleshooting">Troubleshooting</a><a id="Troubleshooting-1"></a><a class="docs-heading-anchor-permalink" href="#Troubleshooting" title="Permalink"></a></h3><p><strong>Packages not found despite being in shared depot:</strong> Verify that <code>JULIA_DEPOT_PATH</code> is set correctly and includes the shared depot. Check that the trailing separator is present to include system depots. Use <code>DEPOT_PATH</code> in the Julia REPL to verify the depot search path.</p><pre><code class="language-julia hljs">julia&gt; DEPOT_PATH
3-element Vector{String}:
 &quot;/home/user/.julia&quot;
 &quot;/opt/julia/shared_depot&quot;
 &quot;/usr/local/share/julia&quot;</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../protocol/">« <strong>14.</strong> Package and Storage Server Protocol Reference</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.15.0 on <span class="colophon-date" title="Tuesday 28 October 2025 14:43">Tuesday 28 October 2025</span>. Using Julia version 1.13.0-DEV.1389.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
